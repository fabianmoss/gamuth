<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
      <title>9. Historical usage of tonal pitch classes</title>
    
          <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="_static/theme.css " type="text/css" />
          <link rel="stylesheet" href="_static/exercise.css" type="text/css" />
      
      <!-- sphinx script_files -->
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="_static/theme-vendors.js"></script> -->
      <script src="_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="10. Tonal pitch-class coevolution" href="coevolution.html" />
  <link rel="prev" title="8. Tonal pitch-class distributions" href="pc_distributions.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="index.html" class="home-link">
    
      <span class="site-name">GAMuTh: Guide to Advanced Music Theory</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="index.html#gamuth-guide-to-advanced-music-theory"
         class="nav-link  router-link-active">
         gamuth: guide to advanced music theory
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#developers"
         class="nav-link ">
         developers
      </a>
    </div>
  



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="index.html#gamuth-guide-to-advanced-music-theory"
         class="nav-link  router-link-active">
         gamuth: guide to advanced music theory
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#developers"
         class="nav-link ">
         developers
      </a>
    </div>
  



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#gamuth-guide-to-advanced-music-theory">gamuth: guide to advanced music theory</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 ">
            
              <a href="1_fundamentals.html" class="reference internal ">Fundamentals</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="2_scales_modes.html" class="reference internal ">Scales and Modes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="3_set_theory.html" class="reference internal ">Pitch-Class Set Theory</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="4_time.html" class="reference internal ">Time</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="4_harmony.html" class="reference internal ">Harmony</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="encodings.html" class="reference internal ">Music Encoding</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="5_notes.html" class="reference internal ">Pitch-class based music analysis</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="pc_distributions.html" class="reference internal ">Tonal pitch-class distributions</a>
            

            
          </li>

        
          <li class="toctree-l1 current">
            
              <a href="#" class="reference internal current">Historical usage of tonal pitch classes</a>
            

            
              <ul>
                
                  <li class="toctree-l2"><a href="#modeling-tonal-pitch-class-evolution" class="reference internal">Modeling tonal pitch-class evolution</a></li>
                
                  <li class="toctree-l2"><a href="#variability-in-tonal-pitch-class-usage" class="reference internal">Variability in tonal pitch-class usage</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="coevolution.html" class="reference internal ">Tonal pitch-class coevolution</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="diatonicism_chromaticism.html" class="reference internal ">Diatonicism — Chromaticism — Enharmonicism</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="topic_modeling.html" class="reference internal ">Topic Modeling with Latent Dirichlet Allocation (LDA)</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="5_segmentation.html" class="reference internal ">Segmentation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="6_advanced.html" class="reference internal ">Advanced topics</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="8_bibliography.html" class="reference internal ">Bibliography</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#developers">developers</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="api.html" class="reference internal ">API - gamuth</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li><span class="section-number">9. </span>Historical usage of tonal pitch classes</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="pc_distributions.html"
       title="previous chapter">← <span class="section-number">8. </span>Tonal pitch-class distributions</a>
  </li>
  <li class="next">
    <a href="coevolution.html"
       title="next chapter"><span class="section-number">10. </span>Tonal pitch-class coevolution →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <div class="section" id="historical-usage-of-tonal-pitch-classes">
<h1><span class="section-number">9. </span>Historical usage of tonal pitch classes<a class="headerlink" href="#historical-usage-of-tonal-pitch-classes" title="Permalink to this headline">¶</a></h1>
<p>Apart from counting the number of tonal pitch classes in an individual
musical piece, comparing these distributions between pieces and across
historical time is interesting. In the last section we compared a small
number of pieces manually. This section attempts at quantifying these
intuitions and gaining a picture of the larger view.</p>
<p>The question is, how does the usage of tonal pitch classes change over
time? Can we infer something about tonality from this change? An
immediate caveat that comes to mind is that pieces often feature very
different sets of notes because they are, for instance, in a different
mode (both in the pre-tonal as well in the tonal sense), or key. It is
therefor a standard preprocessing step in computational musicology to
normalize pitch class distributions by transposing every piece to the
same key in order to make them commensurate. For the same reasone, the
chord symbols in the datasets analyzed in part [part:meso] where encoded
with relative Roman numerals and not their absolute chord names. But in
order to perform this normalization step, one needs to know the key of a
piece. <strong>(Well, not really: Harasim et al. 2019)</strong> Moreover, the concept
of “key” does not mean the same thing for all musical styles. Bach’s
B-minor Mass and Liszt’s B-minor Sonata share the same nominal key but
differ greatly with respect to their pitch-class distributions. Since
the underlying tonality has changed, the derivative concept of key has
changed, too. And just identifying B as the most common note in both
pieces as indicative for the key (<strong>check if that is the case</strong>) is not
a solution either because this procedure would also identify Renaissance
locrian pieces as having the same key without even having touched the
problem of how to infer the mode.</p>
<p>We come back to this issue in later chapters (<strong>WHERE?</strong>). Maybe it is
appropriate to inspect the absolute pitch distributions of pieces before
delving into the issue of relative pitch classes. This is what this
chapter is about.</p>
<div class="section" id="modeling-tonal-pitch-class-evolution">
<h2><span class="section-number">9.1. </span>Modeling tonal pitch-class evolution<a class="headerlink" href="#modeling-tonal-pitch-class-evolution" title="Permalink to this headline">¶</a></h2>
<p>Tonal pitch classes on the line of fifths can be mapped to integers
<span class="math notranslate nohighlight">\(k \in \mathbb Z\)</span>. An interval <span class="math notranslate nohighlight">\(I=[a,b]\subseteq\mathbb Z\)</span>
is called a <strong>line-of-fifths segment</strong> and its length is
<span class="math notranslate nohighlight">\(n=|b-a|, a&lt;b\)</span>. The distribution of tonal pitch classes at time
<span class="math notranslate nohighlight">\(t\)</span> (in a piece or in historical time) is modeled as a draw from a
Dirichlet distribution:</p>
<div class="math notranslate nohighlight">
\[X^{(t)}\sim \mathrm{Dir}(\mathbf{\alpha}), \mathbf{\alpha}\in\mathbb R^n.\]</div>
<p>Importantly, in this model, the dimensions of <span class="math notranslate nohighlight">\(X^{t}\)</span> have no
inherent order. This means that the model knows nothing about the line
of fifths anymore. The ordering of pcs along this line is just for
convenience. The probability of the pitch class <span class="math notranslate nohighlight">\(k = i-a\)</span> at time
<span class="math notranslate nohighlight">\(t\)</span> is given by the <span class="math notranslate nohighlight">\(k+a\)</span>th component of the vector
<span class="math notranslate nohighlight">\(X^{(t)}\)</span>, <span class="math notranslate nohighlight">\(p(k | t)=X_{k+a}^{t}\)</span> The diachronic change of
these distributions forms a process</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\mathbf{X}=(X^{(1)},\dots,X^{(t)},\dots,X^{(T)})\in \mathbb R^{n\times T},\\such that :math:`\sum_i X_i^{(t)}=1,\forall t`.\end{aligned}\end{align} \]</div>
</div>
<div class="section" id="variability-in-tonal-pitch-class-usage">
<h2><span class="section-number">9.2. </span>Variability in tonal pitch-class usage<a class="headerlink" href="#variability-in-tonal-pitch-class-usage" title="Permalink to this headline">¶</a></h2>
<p>We count the occurrence of tonal pitch classes in all pieces and trace
the change between them across the historical timeline. Based on
theoretical reasoning <span id="id1">[<a class="reference internal" href="8_bibliography.html#id61" title="Zsolt Gárdonyi and Hubert Nordhoff. Harmonik. Möseler Verlag, Wolfenbüttel, 2002.">18</a>, <a class="reference internal" href="8_bibliography.html#id38" title="David Temperley. The Line of Fifths. Music Analysis, 19(3):289–319, 2000. doi:10.2307/854457.">58</a>]</span>,
we have already seen in section [sec:bagofwords] that it seems to be the
case that sorting pitch classes along the line of fifths reveals
structural connections between the pitch classes. For that reason we
plot the pitch classes along this axis and also use colors to encode
this relation.</p>
<p>As Figure [fig:piece_dist] has shown, the dataset is not uniformly
distributed over time. On one hand, there are some large gaps between
periods, whereas on the other hand some years contain many pieces at the
same time.</p>
<p>For years without data, we take the assumption that “nothing changes”
and keep the values from the last where were data was available. For the
years with many pieces, we add up the pitch class counts, so that they
all contribute to the calculation.</p>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">…</div>
<div class="line">A <strong>rolling mean</strong>, also called a moving average, is calculated over
the whole historical range. It is common that sliding windows are
centered. But because it makes more sense for historical data to only
consider previous events because future events have no impact, the
result of the sliding window takes into account all <span class="math notranslate nohighlight">\(t\)</span> previous
years.</div>
</div>
<p>For a value <span class="math notranslate nohighlight">\(x_t\)</span> in year <span class="math notranslate nohighlight">\(t\)</span>, and window size <span class="math notranslate nohighlight">\(s\)</span>,
the rolling mean <span class="math notranslate nohighlight">\(\bar x\)</span> is defined as</p>
<div class="math notranslate nohighlight">
\[\begin{aligned}
    \bar x = \frac{1}{s}\sum_{i=0}^{s-1} x_{t-i}.\end{aligned}\]</div>
<p>This definition allows a scalable perspective on historical
developments. Adjusting the windows size allows to all historical
periods in the range of the historical frame under consideration. For
instance, setting <span class="math notranslate nohighlight">\(s=50\)</span> will lead to a curve that at any point
represents the average value of the last 50 years, if years are the unit
of time.</p>
<p>This is done for the tonal pitch-class distributions of aggregated
pieces and is shown in Figure [fig:evolution_tpcs]. It is a complex
plot and we will discuss each part at a time.</p>
<p>The legend above the two subplots show the mapping of tonal pitch
classes to colors. Since tpcs are isomorphic to <span class="math notranslate nohighlight">\(\mathcal Z\)</span>, as
mentioned above, it is possible to map flat tpcs to negative numbers,
shown as graded blue colors, and to map sharp tpcs to positive numbers,
shown as graded red colors. The tpc C is mapped to zero which
corresponds to the color white in this plot.</p>
<p>The plot immediately below the legend shows the smoothed distribution of
tonal pitch classes over time, sorted by the associated colors. The two
dashed curves demarcate the white-note diatonic tonal pitch classes F to
B. It is important to note here that in the bag-of-notes model tonal
pitch classes are expressed as multinomial distributions. This means
that there is no inherent order to the pitch classes–there is no
structure in the bag. The coloring and sorting is done on theoretical
grounds, but we will soon see that this ordering makes also sense for
the data at hand.</p>
<p>The dark line throughout this plot shows the normalized entropy of the
pitch-class distributions at any point in time. This line is smoothed by
the same procedure as the individual per-year pitch-class distributions
and is thus an adequate measure for the randomness of these
distributions for a given year. Taking into account a 50-year window
shows that randomness slightly increases over time with some wiggles
along the way. The value of this line is independent of the number of
tonal pitch classes in a given year, since it is normalized by its
maximal value which is given by <span class="math notranslate nohighlight">\(\log(n)\)</span> where <span class="math notranslate nohighlight">\(n\)</span> is the
number of non-zero tonal pitch classes in that year.</p>
<p>The red line in the bottom plot in Figure [fig:evolution_tpcs] shows
the ratio of non-zero “sharp” tpcs (G, D, A, …) to non-zero “flat”
notes (F, B<span class="math notranslate nohighlight">\(\flat\)</span>, E<span class="math notranslate nohighlight">\(\flat\)</span>, etc.), defined as
<span class="math notranslate nohighlight">\(q=s/f\)</span>, where <span class="math notranslate nohighlight">\(s\)</span> is the number of sharp tpcs (not unique
but the actual number), and <span class="math notranslate nohighlight">\(f\)</span> is the number of flat notes. If
<span class="math notranslate nohighlight">\(f=0\)</span>, the ratio <span class="math notranslate nohighlight">\(q\)</span> is not defined. Since the analysis is
based on the moving average, as well, a piece with no flats (which
implies also F) is excluded. Since the window size is considerably
large, there is no sliding window that contains only pieces with
non-flat notes so that <span class="math notranslate nohighlight">\(q\)</span> is always defined as can be seen by the
smoothness of the red line. As can be seen, this curve shows
considerable variation. In both subplots, saddle points correspond to
regions where no data is available so no interpretation should be given
for these areas.</p>
<p><strong>Bootstrap sample CIs!</strong></p>
<p>If a musical piece exclusively contains the seven diatonic tpcs, and if
they are furthermore uniformly distributed in this piece, the
sharp-to-flat ratio is <span class="math notranslate nohighlight">\(q=|\{G, D, A, E, B\}/|F|=5\)</span>. Which is
exactly what we see in the beginning of our timeline.</p>
<p>The reverse statement that diatonic notes are uniformly distributed if
the ratio is <span class="math notranslate nohighlight">\(q=5\)</span> is not necessarily true. In fact, there are
non-diatonic notes present at the beginning of the timeline, namely
B<span class="math notranslate nohighlight">\(\flat\)</span> in the flat direction, and F<span class="math notranslate nohighlight">\(\sharp\)</span> and
C<span class="math notranslate nohighlight">\(\sharp\)</span> in the sharp direction. A uniform ratio would be then
<span class="math notranslate nohighlight">\(q=|\{G, D, A, E, B, F\sharp, C\sharp\}/|B\flat, F|=3.5\)</span> So we can
rule out uniformity, also because the entropy (the black line in the
upper plot) is not maximal. The question is, whether the non-randomness
in these distribution tells us something about tonality and its
historical development. We come back to this question later.</p>
<p>The smoothed trends in both subplots show that sharpward tpcs are
generally much more common if not only because all diatonic pitches are
already sharps except F. More precisely, sharp notes occur roughly five
times more often than flat notes until the last quarter of the fifteenth
century. This might be due to the fact that almost only diatonic notes
are being used, with relatively constant but low B<span class="math notranslate nohighlight">\(\flat\)</span>s
<strong>(transposed modes!)</strong>. On the sharp side of the spectrum,
F<span class="math notranslate nohighlight">\(\sharp\)</span>s occur rarely, as do C<span class="math notranslate nohighlight">\(\sharp\)</span>s which
lends itself to the interpretation that these notes do reflect the
<strong>musica ficta</strong>. Other accidentals occur vanishingly seldom.</p>
<p>Around 1460 there is a decline in <span class="math notranslate nohighlight">\(q\)</span> that stabilizes around 1530
where the sharps occur only three times as often as flats. This is due
to an increased use of flat notes F and B<span class="math notranslate nohighlight">\(\flat\)</span>. Somewhat
surprisingly, F<span class="math notranslate nohighlight">\(\sharp\)</span> and higher sharps are absent in this
period. But for modal music that is a logical consequence. If the
transposed modes are used more often, sharp notes are less likely to
occur.</p>
<p>In the second half of the 16th century, E<span class="math notranslate nohighlight">\(\flat\)</span> appears for the
first time in the corpus in a substantial and stable way. But also
F<span class="math notranslate nohighlight">\(\sharp\)</span> comes back so it is counterbalanced and the ratio
stays roughly the same.</p>
<p>Towards the end of the 16th century, we see a dramatic increase in the
sharp-flat ratio that continues until the middle of the 17th century and
reaches a more than 7-fold peak. This is due to the disappearance of
almost all flats below B<span class="math notranslate nohighlight">\(\flat\)</span>, while the sharps
C<span class="math notranslate nohighlight">\(\sharp\)</span>, G<span class="math notranslate nohighlight">\(\sharp\)</span>, and D<span class="math notranslate nohighlight">\(\sharp\)</span> become even
stronger (and never vanish again). In this period, music seems to shift
to the sharp side. While modal music featured the basid diatonic modes
plus downward transposition to the flat side by one, here we see more
and more accidentals.</p>
<p>…going into dominant regions means going sharpwards.</p>
<p>But this peak lasts only shortly. Around 1700 the sharp-flat ratio has
fallen back to its earlier point around 2.5. But although the ratio is
the same, the tpc usage is quite different. Now many more sharps and
flats are employed than ever before. More importantly, this peak marks
the beginning of the Baroque period. The first Baroque composer in the
corpus is Corelli (also the most frequent one). There are a lot of
pieces from him at the end of the 17th century.</p>
<p>A surge of flats around 1800 brings the ratio down to its lowest point
since ca. 1530 and remains relatively stable throughout the 19th
century. There is a slight rise and decay over the course of this
century. Both sharps and flats increase in this time but more so do the
flats.</p>
<p>In the early 20th century there is the third lowest point where flats
dominate sharps (“renaissance of the Renaissance”? Vaughan Williams,
Finzi, …)</p>
</div>
</div>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="pc_distributions.html"
       title="previous chapter">← <span class="section-number">8. </span>Tonal pitch-class distributions</a>
  </li>
  <li class="next">
    <a href="coevolution.html"
       title="next chapter"><span class="section-number">10. </span>Tonal pitch-class coevolution →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2021, Fabian C. Moss.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>